(this["webpackJsonplibrary-react-version"]=this["webpackJsonplibrary-react-version"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var o=a(0),r=a.n(o),n=a(7),c=a.n(n),l=a(1),i=a(2),s=a(4),d=a(3),m=a(5);var u=function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-title"},"My Library"),r.a.createElement("button",{id:"add-btn",onClick:function(){e.changeModal("newBook",e.newBook)}},"New Book"))};var h=function(e){return r.a.createElement("button",{className:"btn","data-bookid":e.bookID,onClick:function(){e.changeModal("editBook",e.bookID)},id:"edit-btn-".concat(e.bookID)},"Edit")},p=a(8),g=function e(t,a,o,r,n,c,i){Object(l.a)(this,e),this.title=t,this.author=a,this.pages=o,this.year=r,this.read=n,this.desc=c,this.cover=i};function y(e){localStorage.setItem("my-local-library",JSON.stringify(e)),console.log("Data saved to storage ->"),console.log(e)}var b=function(e){return r.a.createElement("button",{className:"btn","data-bookid":e.bookID,onClick:function(){return t=e.bookID,a=e.myLibrary,o=e.toggleState,a.splice(t,1),o(),y(e.myLibrary),void window.location.reload();var t,a,o}},"Delete")};var v=function(e){var t=e.bookID,a=e.myLibrary,o=a[t].read;return r.a.createElement("label",{className:"checkbox","data-check":"book"},r.a.createElement("input",{type:"checkbox",defaultChecked:o,onClick:function(){a[t].read?a[t].read=!1:a[t].read=!0,y(a)}}),r.a.createElement("span",{className:"checkmark"}))};var k=function(e){return r.a.createElement("article",{className:"card"},r.a.createElement("div",{className:"book-cover",style:{backgroundImage:"url(".concat(e.cover,")")}}),r.a.createElement("div",{className:"overlay"},r.a.createElement("h2",{className:"title"},e.title),r.a.createElement("h3",{className:"author"},e.author),r.a.createElement("p",{className:"description"},e.desc),r.a.createElement("p",{className:"book-stats"},e.pages,e.year),r.a.createElement("div",{className:"buttons"},r.a.createElement(h,{bookID:e.bookID,changeModal:e.changeModal}),r.a.createElement(b,{bookID:e.bookID,myLibrary:e.myLibrary,toggleState:e.toggleState}),r.a.createElement(v,{bookID:e.bookID,myLibrary:e.myLibrary}))))};var f=function(){return r.a.createElement("article",{className:"card phantom"})},E=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,null,[{key:"numGhosts",value:function(e){var t=0;try{t=document.querySelector(".card-catalogue").offsetWidth}catch(a){t=.953*window.innerWidth}return function(e){var t=e.numElements,a=e.elementWidth,o=e.margin,r=e.containerWidth,n=Math.floor(r/(a+o));return n-t%n}({numElements:e.length,elementWidth:270,margin:5,containerWidth:t})}}]),e}();var w=function(e){var t=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))};return r.a.createElement("div",{className:"card-catalogue"},function(e,a,o){var n=[];function c(e){return parseInt(e.pages,10)>1?parseInt(e.pages,10)+" pages":" "}function l(e){return parseInt(e.pages,10)>1&&parseInt(e.year,10)>=0?", "+parseInt(e.year,10):parseInt(e.year,10)}return e.map((function(e,i,s){n.push(r.a.createElement(k,{myLibrary:s,bookID:i,title:e.title,author:e.author,pages:c(e),year:l(e),read:e.read,desc:e.desc,cover:e.cover,changeModal:a,toggleState:o,key:t()}))})),n}(e.myLibrary,e.changeModal,e.toggleState),function(){for(var a=[],o=0;o<E.numGhosts(e.myLibrary);o++)a.push(r.a.createElement(f,{key:t()}));return a}())};var I=function(e){var t=e.changeModal;return r.a.createElement("input",{type:"button",className:"btn",id:"m-cancel",value:"Cancel",onClick:t})};var N=function(e){var t=e.myLibrary[e.bookID].read;return r.a.createElement("label",{className:"col2 checkbox",id:"m-read","data-check":"edit"},r.a.createElement("input",{type:"checkbox",id:"m-checkbox","data-bookid":e.bookID,defaultChecked:t,onClick:function(e){var t=e.target;t.checked?t.checked=!0:t.checked=!1}}),r.a.createElement("span",{className:"checkmark",id:"m-checkmark"}))};var S=function(e){return r.a.createElement("label",{className:"col2 checkbox",id:"m-read","data-check":"new"},r.a.createElement("input",{type:"checkbox",id:"m-checkbox","data-bookid":e.bookID,defaultChecked:!1,onClick:function(e){var t=e.target;t.checked?(t.value=!1,t.removeAttribute("checked")):(t.value=!0,t.setAttribute("checked","checked"))}}),r.a.createElement("span",{className:"checkmark",id:"m-checkmark"}))};var L=function(e){var t={title:"",author:"",pages:-1,year:-1,read:!1,desc:"",cover:""};return r.a.createElement("input",{type:"submit",className:"btn",id:"m-submit",onClick:function(a){var o,r,n=document.getElementsByClassName("modal-content")[0].dataset.bookid;t.title=document.getElementById("m-title").value,""===t.title?console.log("Please enter a book title."):(t.author=document.getElementById("m-author").value,t.pages=document.getElementById("m-pages").value,t.year=document.getElementById("m-year").value,t.read=document.getElementById("m-checkbox").checked,t.desc=document.getElementById("m-description").value,t.cover=document.getElementById("m-image-url").value,void 0===n||"undefined"===n?(o=new g(t.title,t.author,t.pages,t.year,t.read,t.desc,t.cover),(r=e.myLibrary).push(o),y(r)):(e.myLibrary[n]=new g(t.title,t.author,t.pages,t.year,t.read,t.desc,t.cover),n=void 0),y(e.myLibrary),function(){for(var e=0,t=["m-title","m-author","m-description","m-pages","m-year","m-image-url"];e<t.length;e++){var a=t[e];document.getElementById(a).value=""}var o=document.querySelector(".modal-content"),r=document.querySelector("#m-checkbox");o.id="",r.checked=!1,r.value=!1,r.removeAttribute("checked")}(),e.changeModal(),window.location.reload())}})},M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).fillModal=function(e,t){var a=t[e];document.querySelector(".modal-content").dataset.bookid=e,document.getElementById("m-checkbox").dataset.bookid=e,document.getElementById("m-title").value=a.title,document.getElementById("m-author").value=a.author,document.getElementById("m-description").value=a.desc,document.getElementById("m-pages").value=a.pages,document.getElementById("m-year").value=a.year,document.getElementById("m-image-url").value=a.cover},a.chooseCheckbox=function(){var e=a.props.modalType;return"editBook"===e?r.a.createElement(N,{bookID:a.props.bookID,myLibrary:a.props.myLibrary}):"newBook"===e?r.a.createElement(S,{myLibrary:a.props.myLibrary}):void 0},a.componentDidMount=function(){"editBook"===a.props.modalType&&a.fillModal(a.props.bookID,a.props.myLibrary),document.addEventListener("click",a.props.handleOutsideClick,!1),document.addEventListener("keydown",a.props.handleKeydown,!1)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.props.handleOutsideClick,!1),document.removeEventListener("keydown",this.props.handleKeydown,!1)}},{key:"render",value:function(){return r.a.createElement("div",{className:"modal show-modal"},r.a.createElement("form",null,r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"col1"},"Title:"),r.a.createElement("div",{className:"col2"},r.a.createElement("input",{type:"text",id:"m-title",placeholder:"Title [Required]",required:!0})),r.a.createElement("div",{className:"col1"},"Author:"),r.a.createElement("div",{className:"col2"},r.a.createElement("input",{type:"text",id:"m-author",placeholder:"Author"})),r.a.createElement("div",{className:"col1"},"Description:"),r.a.createElement("div",{className:"col2"},r.a.createElement("textarea",{id:"m-description",placeholder:"Description"})),r.a.createElement("div",{className:"col1"},"Pages:"),r.a.createElement("div",{className:"col2"},r.a.createElement("input",{type:"number",id:"m-pages",placeholder:"Pages",min:"0"})),r.a.createElement("div",{className:"col1"},"Year:"),r.a.createElement("div",{className:"col2"},r.a.createElement("input",{type:"number",id:"m-year",placeholder:"Year",min:"0"})),r.a.createElement("div",{className:"col1"},"Read:"),this.chooseCheckbox(),r.a.createElement("div",{className:"col1"},"Image URL:"),r.a.createElement("div",{className:"col2"},r.a.createElement("input",{type:"text",id:"m-image-url",placeholder:"http://"})),r.a.createElement("div",{className:"modal-buttons"},r.a.createElement(L,{changeModal:this.props.changeModal,myLibrary:this.props.myLibrary}),r.a.createElement(I,{changeModal:this.props.changeModal})))))}}]),t}(r.a.Component);var B=function(e){var t=e.myLibrary;return r.a.createElement("footer",null,"This app was made for a ",r.a.createElement("a",{href:"https://www.theodinproject.com/courses/javascript/lessons/library"},"React JS coding assignment")," at The Oden Project. View the ",r.a.createElement("a",{href:"https://github.com/winplam/library"},"source code")," on GitHub.",r.a.createElement("br",null),r.a.createElement("button",{className:"footerButtons",onClick:function(){window.confirm("Erase all books?")&&(t.splice(0),y(t),window.location.reload())}},"Remove all books"),"including sample. |",r.a.createElement("button",{className:"footerButtons",onClick:function(){window.confirm("Reset to sample data?")&&(localStorage.clear(),window.location.reload())}},"Reset to sample"),"data.")},j=(a(14),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).changeModal=function(e,t){a.setState({modalType:e}),a.setState({currentBook:t})},a.createModal=function(e){var t=a.state.modalType,o="";return"editBook"!==t&&"newBook"!==t||(o=r.a.createElement(M,{bookID:a.state.currentBook,handleKeydown:a.handleKeydown,handleOutsideClick:a.handleOutsideClick,myLibrary:e,modalType:t,changeModal:a.changeModal})),o},a.handleKeydown=function(e){"Escape"===e.key&&a.changeModal("")},a.handleOutsideClick=function(e){a.node.childNodes[2]===e.target&&a.changeModal("")},a.handleResize=function(){a.toggleState()},a.toggleState=function(){var e=!a.state.someState;a.setState({someState:e})},a.state={modalType:"editBook"},a.state={currentBook:"editBook"},a.state={someState:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){return e.node=t}},r.a.createElement(u,{changeModal:this.changeModal,newBook:this.props.myLibrary.length}),r.a.createElement(w,{myLibrary:this.props.myLibrary,changeModal:this.changeModal,toggleState:this.toggleState}),this.createModal(this.props.myLibrary),r.a.createElement(B,{myLibrary:this.props.myLibrary}))}}]),t}(r.a.Component));!function(){var e=function(){if(localStorage.getItem("my-local-library"))return console.log("Loading library from localStorage"),JSON.parse(localStorage.getItem("my-local-library"));console.log("Loading sample books");var e=[];return p.map((function(t){e.push(new g(t.title,t.author,t.pages,t.year,t.read,t.desc,t.cover))})),e}();c.a.render(r.a.createElement(j,{myLibrary:e}),document.getElementById("root"))}()},8:function(e){e.exports=JSON.parse('[{"title":"The Hunger Games","author":"Suzanne Collins","pages":374,"year":2008,"read":true,"desc":"Could you survive on your own, in the wild, with everyone out to make sure you don\'t live to see the morning?","cover":"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1447303603l/2767052.jpg"},{"title":"Harry Potter and the Order of the Phoenix","author":"J.K. Rowling","pages":870,"year":2004,"read":false,"desc":"There is a door at the end of a silent corridor. And it\u2019s haunting Harry Potter\u2019s dreams.","cover":"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1546910265l/2.jpg"},{"title":"To Kill a Mockingbird","author":"Harper Lee","pages":324,"year":2006,"read":true,"desc":"The unforgettable novel of a childhood in a sleepy Southern town and the crisis of conscience that rocked it.","cover":"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1553383690l/2657.jpg"},{"title":"Pride and Prejudice","author":"Jane Austen","pages":279,"year":2000,"read":false,"desc":"Since its immediate success in 1813, Pride and Prejudice has remained one of the most popular novels in the English language.","cover":"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1320399351l/1885.jpg"},{"title":"Twilight","author":"Stephenie Meyer","pages":501,"year":2006,"read":true,"desc":"Deeply seductive and extraordinarily suspenseful, Twilight is a love story with bite.","cover":"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1361039443l/41865.jpg"},{"title":"The Book Thief","author":"Markus Zusak","pages":552,"year":2006,"read":false,"desc":"It is 1939. Nazi Germany. The country is holding its breath. Death has never been busier, and will be busier still.","cover":"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1522157426l/19063._SY475_.jpg"},{"title":"Animal Farm","author":"George Orwell","pages":122,"year":2003,"read":true,"desc":"George Orwell\'s timeless and timely allegorical novel\u2014a scathing satire on a downtrodden society\u2019s blind march towards totalitarianism.","cover":"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1424037542l/7613.jpg"},{"title":"The Chronicles of Narnia","author":"C.S. Lewis","pages":767,"year":2002,"read":false,"desc":"Journeys to the end of the world, fantastic creatures, and epic battles between good and evil\u2014what more could any reader ask for in one book?","cover":"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1449868701l/11127._SY475_.jpg"},{"title":"The Hobbit (Middle-earth Universe)","author":"J.R.R. Tolkien","pages":365,"year":1998,"read":true,"desc":"In a hole in the ground there lived a hobbit. It was a hobbit-hole, and that means comfort.","cover":"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1347244628l/838638.jpg"},{"title":"Gone with the Wind","author":"Margaret Mitchell","pages":1037,"year":1999,"read":false,"desc":"Margaret Mitchell\'s monumental epic of the South won a Pulitzer Prize, gave rise to the most popular motion picture of our time.","cover":"https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1551144577l/18405._SY475_.jpg"}]')},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.6676d6d1.chunk.js.map